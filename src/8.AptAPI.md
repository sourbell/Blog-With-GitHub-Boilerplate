---
layout: post
title: APT API
slug: apt-api
date: 2020-02-23 11:01
status: publish
author: Toby Bu
categories: 
  - Project Manage
tags: 
  - API
excerpt: APT API
---

默认返回结构
{
    error: false, 
    data: {
    ...
    }
}

1. 登录 
post /pd/login
{ email: "15950000512@qq.com", password: "12345678" }
{ token: "" }


2. 注册（注册后默认为普通会员）


3. 取回密码 
post /pd/reset-password
{ email: "15950000512@qq.com" } 
{ message: "email sent" }


4. 获取用户最近 statistics 
get /pd/statistics
{
    weekly: {
        attendance: [0, 1, 1, 1, 1, 0, 1], //[6天前，5天前...，昨天，今天]
        calories: 756.23,
        exerciseMinutes: 320,
    },
    monthly: {
        attendance: [0, 1, 1, 1, 1, 1, 1... ] //[] 本月1号起
    }
}


5. 根据日期范围获取最近的 workout list 
get /pd/workouts/page/{page}
{
}

6. 个人资料获取
get /pd/profile
{
    userId: 1,
    email: "15950000512@qq.com",
    avatar: "",
    firstName: "Toby",
    lastName: "Bu",
    nickName: "Bristletail",
    gender: "male" | "female",
    birthYear: "01/1987",
    weight: 175.12,
    weightUnit: "lb" | "kg"
}


7. 个人资料修改
post /pd/profile
{
    userId: 1,
    avatar: "",
    firstName: "Toby",
    lastName: "Bu",
    nickName: "Bristletail",
    gender: "male" | "female",
    birthYear: "01/1987",
    weight: 175.12,
    weightUnit: "lb" | "kg"
}

{
}

8. 修改密码
post /pd/profile/actions/change-password
{
    newPassword: "123456789"
}

{ message: "password changed" }

7. 获取本角色下的 Challenge list

